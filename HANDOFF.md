# üìã Law Bot ‚Äî Handoff –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 24 —Ñ–µ–≤—Ä–∞–ª—è 2026 –≥.  
**–í–µ—Ä—Å–∏—è:** 1.0.0  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

---

## üìñ –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

1. [–û –ø—Ä–æ–µ–∫—Ç–µ](#–æ-–ø—Ä–æ–µ–∫—Ç–µ)
2. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
3. [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)
4. [–†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ](#—Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ)
5. [–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ](#–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ)
6. [–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è](#–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ-–æ–∫—Ä—É–∂–µ–Ω–∏—è)
7. [API Endpoints](#api-endpoints)
8. [–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö](#–±–∞–∑–∞-–¥–∞–Ω–Ω—ã—Ö)
9. [–ö–æ–º–∞–Ω–¥—ã Docker](#–∫–æ–º–∞–Ω–¥—ã-docker)
10. [Troubleshooting](#troubleshooting)
11. [–ö–æ–Ω—Ç–∞–∫—Ç—ã](#–∫–æ–Ω—Ç–∞–∫—Ç—ã)

---

## üìå –û –ø—Ä–æ–µ–∫—Ç–µ

**Law Bot (–Æ—Ä–∏–¥–∏—á–µ—Å–∫–æ–µ –†–µ—à–µ–Ω–∏–µ)** ‚Äî Telegram-–±–æ—Ç –¥–ª—è —é—Ä–∏–¥–∏—á–µ—Å–∫–∏—Ö –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–π —Å –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å—é.

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
- ‚úÖ –ü—Ä–∏—ë–º –æ–±—Ä–∞—â–µ–Ω–∏–π –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –ü–µ—Ä–µ–ø–∏—Å–∫–∞ —Å –∫–ª–∏–µ–Ω—Ç–∞–º–∏ (–¥–∏–∞–ª–æ–≥–∏)
- ‚úÖ –ê–Ω–∫–µ—Ç–∞ –¥–µ–ª–∞ (case questionnaire)
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- ‚úÖ –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤
- ‚úÖ –£—á—ë—Ç –≤—ã—Ä—É—á–∫–∏ –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤

### –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π:
| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è |
|-----------|------------|
| –ë–æ—Ç | Python 3.11, aiogram 3.x |
| –ê–¥–º–∏–Ω–∫–∞ | FastAPI, uvicorn |
| –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö | PostgreSQL 15 |
| ORM | SQLAlchemy 2.x (async) |
| –î–µ–ø–ª–æ–π | Docker, Docker Compose |
| –°–µ—Ä–≤–µ—Ä | Ubuntu 20.04, 1 –ì–± RAM, SSD |

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Telegram      ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ   Law Bot        ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ   PostgreSQL    ‚îÇ
‚îÇ   Users         ‚îÇ     ‚îÇ   (aiogram)      ‚îÇ     ‚îÇ   Database      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                ‚ñ≤
                                ‚îÇ
                        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                        ‚îÇ   Admin Panel    ‚îÇ
                        ‚îÇ   (FastAPI)      ‚îÇ
                        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                ‚ñ≤
                                ‚îÇ
                        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                        ‚îÇ   Web Browser    ‚îÇ
                        ‚îÇ   (Admin UI)     ‚îÇ
                        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:
| –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä | –ü–æ—Ä—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|------|----------|
| `law_bot_db` | 5432 | PostgreSQL –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö |
| `law_bot` | - | Telegram –±–æ—Ç (polling) |
| `law_bot_admin` | 8000 | –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (FastAPI) |

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
/opt/law_bot/
‚îú‚îÄ‚îÄ bot/                    # –ö–æ–¥ Telegram –±–æ—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ handlers/          # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥
‚îÇ   ‚îú‚îÄ‚îÄ keyboards/         # –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ middleware/        # Middleware
‚îÇ   ‚îú‚îÄ‚îÄ states/            # FSM states
‚îÇ   ‚îî‚îÄ‚îÄ utils/             # –£—Ç–∏–ª–∏—Ç—ã
‚îú‚îÄ‚îÄ admin_panel/           # –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (FastAPI)
‚îÇ   ‚îú‚îÄ‚îÄ app.py            # –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª
‚îÇ   ‚îî‚îÄ‚îÄ templates/        # HTML —à–∞–±–ª–æ–Ω—ã
‚îú‚îÄ‚îÄ database/             # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ models.py        # SQLAlchemy –º–æ–¥–µ–ª–∏
‚îÇ   ‚îî‚îÄ‚îÄ database.py      # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
‚îú‚îÄ‚îÄ config/              # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ settings.py      # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ .env
‚îú‚îÄ‚îÄ uploads/             # –ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
‚îú‚îÄ‚îÄ .env                 # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ docker-compose.yml   # Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ Dockerfile           # Docker –æ–±—Ä–∞–∑ –±–æ—Ç–∞
‚îú‚îÄ‚îÄ Dockerfile.admin     # Docker –æ–±—Ä–∞–∑ –∞–¥–º–∏–Ω–∫–∏
‚îú‚îÄ‚îÄ requirements.txt     # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ update.sh           # –°–∫—Ä–∏–ø—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
‚îî‚îÄ‚îÄ HANDOFF.md          # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

---

## üöÄ –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- Ubuntu 20.04+ (1 –ì–± RAM, 1 CPU, 20 –ì–± SSD)
- Docker 20+
- Docker Compose 1.25+

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å –Ω—É–ª—è:

```bash
# 1. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
apt update && apt upgrade -y

# 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker
curl -fsSL https://get.docker.com -o get-docker.sh
sh get-docker.sh

# 3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker Compose
apt install -y docker-compose

# 4. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone https://github.com/rimabifak-cpu/lawer_bot.git /opt/law_bot
cd /opt/law_bot

# 5. –°–æ–∑–¥–∞–Ω–∏–µ .env
cat > .env << 'EOF'
BOT_TOKEN=your_bot_token_here
ADMIN_CHAT_ID=-1003899118823
DATABASE_URL=postgresql://law_bot_user:LawBot2024Secure!@localhost:5432/law_bot_db
UPLOAD_FOLDER=/opt/law_bot/uploads
MAX_FILE_SIZE=20971520
ALLOWED_EXTENSIONS=pdf,jpg,jpeg,png,doc,docx
DEBUG=False
POSTGRES_DB=law_bot_db
POSTGRES_USER=law_bot_user
POSTGRES_PASSWORD=LawBot2024Secure!
EOF

# 6. –ó–∞–ø—É—Å–∫
docker-compose up -d --build

# 7. –ü—Ä–æ–≤–µ—Ä–∫–∞
docker-compose ps
docker-compose logs -f bot
```

### –î–æ—Å—Ç—É–ø –∫ –∞–¥–º–∏–Ω–∫–µ:
```
http://<SERVER_IP>:8000
```

---

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ (—Å–∫—Ä–∏–ø—Ç):

```bash
cd /opt/law_bot
bash update.sh
```

### –í—Ä—É—á–Ω—É—é:

```bash
cd /opt/law_bot
git pull origin main
docker-compose up -d --build
```

### –ß–µ—Ä–µ–∑ GitHub Actions:
–ü—Ä–∏ –∫–∞–∂–¥–æ–º `git push` –≤ –≤–µ—Ç–∫—É `main` ‚Äî —Å–µ—Ä–≤–µ—Ä –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ).

---

## üîê –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### .env —Ñ–∞–π–ª:

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –ó–Ω–∞—á–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|------------|----------|----------|
| `BOT_TOKEN` | `8429912645:AAG...` | –¢–æ–∫–µ–Ω Telegram –±–æ—Ç–∞ |
| `ADMIN_CHAT_ID` | `-1003899118823` | ID —á–∞—Ç–∞ –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π |
| `DATABASE_URL` | `postgresql://...` | –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ PostgreSQL |
| `UPLOAD_FOLDER` | `/opt/law_bot/uploads` | –ü–∞–ø–∫–∞ –¥–ª—è —Ñ–∞–π–ª–æ–≤ |
| `MAX_FILE_SIZE` | `20971520` | –ú–∞–∫—Å. —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ (20 –ú–±) |
| `ALLOWED_EXTENSIONS` | `pdf,jpg,jpeg,png,doc,docx` | –†–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è |
| `DEBUG` | `False` | –†–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏ |
| `POSTGRES_DB` | `law_bot_db` | –ò–º—è –ë–î |
| `POSTGRES_USER` | `law_bot_user` | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ë–î |
| `POSTGRES_PASSWORD` | `LawBot2024Secure!` | –ü–∞—Ä–æ–ª—å –ë–î |

---

## üåê API Endpoints

### –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (FastAPI):

| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|----------|
| GET | `/` | –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∞–¥–º–∏–Ω–∫–∏ |
| GET | `/api/test-db` | –¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î |
| GET | `/api/users` | –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π |
| GET | `/api/users/list` | –†–∞–∑–≤—ë—Ä–Ω—É—Ç—ã–π —Å–ø–∏—Å–æ–∫ |
| GET | `/api/dialogs` | –°–ø–∏—Å–æ–∫ –¥–∏–∞–ª–æ–≥–æ–≤ |
| POST | `/api/messages/direct` | –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–∞–ø—Ä—è–º—É—é |
| POST | `/api/dialogs/{telegram_id}/send` | –û—Ç–≤–µ—Ç –≤ –¥–∏–∞–ª–æ–≥ |
| GET | `/api/cases/{case_id}/messages` | –°–æ–æ–±—â–µ–Ω–∏—è –¥–µ–ª–∞ |
| POST | `/api/cases/{case_id}/messages` | –°–æ–æ–±—â–µ–Ω–∏–µ –≤ –¥–µ–ª–æ |
| GET | `/api/partners` | –°–ø–∏—Å–æ–∫ –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤ |
| GET | `/api/referrers` | –†–µ—Ñ–µ—Ä–∞–ª—ã |
| POST | `/api/broadcast` | –†–∞—Å—Å—ã–ª–∫–∞ –≤—Å–µ–º |

**Swagger UI:** `http://<SERVER_IP>:8000/docs`

---

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü—ã:

| –¢–∞–±–ª–∏—Ü–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `users` | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ Telegram |
| `partner_profiles` | –ü—Ä–æ—Ñ–∏–ª–∏ –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤ |
| `service_requests` | –ó–∞—è–≤–∫–∏ –Ω–∞ —É—Å–ª—É–≥–∏ |
| `case_questionnaires` | –ê–Ω–∫–µ—Ç—ã –¥–µ–ª |
| `case_messages` | –°–æ–æ–±—â–µ–Ω–∏—è –≤ –¥–µ–ª–∞—Ö |
| `referral_links` | –†–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–µ —Å—Å—ã–ª–∫–∏ |
| `partner_revenues` | –í—ã—Ä—É—á–∫–∞ –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤ |
| `faqs` | FAQ |
| `documents` | –î–æ–∫—É–º–µ–Ω—Ç—ã |

### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:

```bash
# –ß–µ—Ä–µ–∑ Docker
docker exec -it law_bot_db psql -U law_bot_user -d law_bot_db

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∞–±–ª–∏—Ü
\dt

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
SELECT * FROM users ORDER BY registered_at DESC LIMIT 10;
```

---

## üê≥ –ö–æ–º–∞–Ω–¥—ã Docker

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞–º–∏:

```bash
# –°—Ç–∞—Ç—É—Å –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose ps

# –õ–æ–≥–∏ –±–æ—Ç–∞
docker-compose logs -f bot

# –õ–æ–≥–∏ –∞–¥–º–∏–Ω–∫–∏
docker-compose logs -f admin

# –õ–æ–≥–∏ –ë–î
docker-compose logs -f db

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –±–æ—Ç–∞
docker-compose restart bot

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∞–¥–º–∏–Ω–∫–∏
docker-compose restart admin

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ
docker-compose down

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ
docker-compose up -d

# –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞
docker-compose up -d --build

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤
docker stats
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏:

```bash
# –°–ø–∏—Å–æ–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker ps -a

# –í–æ–π—Ç–∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –±–æ—Ç–∞
docker exec -it law_bot bash

# –í–æ–π—Ç–∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∞–¥–º–∏–Ω–∫–∏
docker exec -it law_bot_admin bash

# –í–æ–π—Ç–∏ –≤ –ë–î
docker exec -it law_bot_db psql -U law_bot_user -d law_bot_db
```

---

## üîß Troubleshooting

### –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç:

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
docker-compose ps

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
docker-compose logs --tail=100 bot

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
docker-compose restart bot
```

### –û—à–∏–±–∫–∞ 500 –≤ –∞–¥–º–∏–Ω–∫–µ:

```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –∞–¥–º–∏–Ω–∫–∏
docker-compose logs --tail=100 admin | grep -A 5 "Error"

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –∞–¥–º–∏–Ω–∫—É
docker-compose restart admin
```

### –ë–î –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è:

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ë–î
docker-compose logs db

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
docker exec law_bot_admin python -c "import urllib.request; print(urllib.request.urlopen('http://localhost:8000/api/test-db').read().decode())"
```

### –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–∞–¥–∞–µ—Ç:

```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
docker-compose logs <–∏–º—è_—Å–µ—Ä–≤–∏—Å–∞>

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ—Å—É—Ä—Å—ã
docker stats
free -h
df -h
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

```bash
# –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å
cd /opt/law_bot
git fetch origin
git reset --hard origin/main
docker-compose up -d --build
```

---

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã

### –í–ª–∞–¥–µ–ª–µ—Ü –ø—Ä–æ–µ–∫—Ç–∞:
- **Telegram:** @rimabifak (—É–∫–∞–∑–∞—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω—ã–π)
- **Email:** rimabifak@gmail.com

### –°–µ—Ä–≤–µ—Ä:
- **–•–æ—Å—Ç–∏–Ω–≥:** VPS (–†–æ—Å—Å–∏—è, –ú–æ—Å–∫–≤–∞)
- **IP:** 195.133.31.34
- **–û–°:** Ubuntu 20.04 LTS

### –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
- **GitHub:** https://github.com/rimabifak-cpu/lawer_bot

---

## üìù –ß–µ–∫-–ª–∏—Å—Ç –ø—Ä–∏ –ø–µ—Ä–µ–¥–∞—á–µ –ø—Ä–æ–µ–∫—Ç–∞

- [ ] –î–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–µ—Ä—É (SSH)
- [ ] –î–æ—Å—Ç—É–ø –∫ GitHub
- [ ] –î–æ—Å—Ç—É–ø –∫ Telegram Bot (@BotFather)
- [ ] –§–∞–π–ª `.env` —Å –ø–∞—Ä–æ–ª—è–º–∏
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (—ç—Ç–æ—Ç —Ñ–∞–π–ª)
- [ ] –ö–æ–Ω—Ç–∞–∫—Ç—ã –ø–æ–¥–¥–µ—Ä–∂–∫–∏

---

## ‚úÖ –°—Ç–∞—Ç—É—Å –Ω–∞ 24.02.2026

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
|-----------|--------|------------|
| –ë–æ—Ç | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | @legaldecision_bot |
| –ê–¥–º–∏–Ω–∫–∞ | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | –ü–æ—Ä—Ç 8000 |
| –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | PostgreSQL 15 |
| –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | –ë–µ–∑ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏ |
| –ò—Å—Ç–æ—Ä–∏—è –¥–∏–∞–ª–æ–≥–æ–≤ | ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ | –¢–æ–ª—å–∫–æ –¥–ª—è –¥–µ–ª —Å –∞–Ω–∫–µ—Ç–æ–π |
| –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ | ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ | –ß–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç update.sh |

---

## üéØ –ü–ª–∞–Ω—ã –Ω–∞ –±—É–¥—É—â–µ–µ

- [ ] –î–æ–±–∞–≤–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –¥–∏–∞–ª–æ–≥–æ–≤ (—Ç–∞–±–ª–∏—Ü–∞ `dialog_messages`)
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –ë–î
- [ ] –î–æ–±–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ –∞–¥–º–∏–Ω–∫—É
- [ ] –£–ª—É—á—à–∏—Ç—å UI –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∞–Ω–∞–ª–∏—Ç–∏–∫—É

---

**–ö–æ–Ω–µ—Ü –¥–æ–∫—É–º–µ–Ω—Ç–∞** üìÑ

*–°–æ–∑–¥–∞–Ω–æ: 24 —Ñ–µ–≤—Ä–∞–ª—è 2026 –≥.*  
*–î–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ ‚Äî –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å –∫ –≤–ª–∞–¥–µ–ª—å—Ü—É –ø—Ä–æ–µ–∫—Ç–∞.*
